<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="KR-PH ë‹¬ë ¥">
    <title>2026 í•œêµ­-í•„ë¦¬í•€ ê³µíœ´ì¼ ë‹¬ë ¥</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;700&display=swap');
        body { font-family: 'Pretendard', sans-serif; -webkit-tap-highlight-color: transparent; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .calendar-cell { min-height: 85px; }
        @media (max-width: 640px) { .calendar-cell { min-height: 70px; } }
    </style>
</head>

<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
        const { useState, useEffect } = React;

        // "OFF í† ìš”ì¼"ì„ "í•„ë¦¬í•€ ê³µíœ´ì¼"ë¡œ ì¼ê´„ ì •ì˜ ë³€ê²½
        const koreanHolidays = { '2026-01-01': 'ì‹ ì •', '2026-01-17': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-01-31': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-02-14': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-02-16': 'ì„¤ë‚  ì „ë‚ ', '2026-02-17': 'ì„¤ë‚ ', '2026-02-18': 'ì„¤ë‚  ë‹¤ìŒë‚ ', '2026-02-28': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-03-01': 'ì‚¼ì¼ì ˆ', '2026-03-02': 'ì‚¼ì¼ì ˆ ëŒ€ì²´ê³µíœ´ì¼', '2026-03-14': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-03-28': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-04-11': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-04-25': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-05-05': 'ì–´ë¦°ì´ë‚ ', '2026-05-09': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-05-23': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-05-24': 'ì„ê°€íƒ„ì‹ ì¼', '2026-05-26': 'ì„ê°€íƒ„ì‹ ì¼ ëŒ€ì²´ê³µíœ´ì¼', '2026-06-06': 'í˜„ì¶©ì¼', '2026-06-20': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-07-04': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-07-17': 'ì œí—Œì ˆ', '2026-07-18': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-08-01': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-08-15': 'ê´‘ë³µì ˆ', '2026-08-29': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-09-12': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-09-24': 'ì¶”ì„ ì „ë‚ ', '2026-09-25': 'ì¶”ì„', '2026-09-26': 'ì¶”ì„ ë‹¤ìŒë‚ ', '2026-10-03': 'ê°œì²œì ˆ', '2026-10-06': 'ê°œì²œì ˆ ëŒ€ì²´ê³µíœ´ì¼', '2026-10-09': 'í•œê¸€ë‚ ', '2026-10-10': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-10-24': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-11-07': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-11-21': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-12-05': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-12-19': 'í•„ë¦¬í•€ ê³µíœ´ì¼', '2026-12-25': 'í¬ë¦¬ìŠ¤ë§ˆìŠ¤' };
        const philippineHolidays = { '2026-01-01': "New Year's Day", '2026-02-17': 'Chinese New Year', '2026-03-20': 'Eid al-Fitr', '2026-04-02': 'Maundy Thursday', '2026-04-03': 'Good Friday', '2026-04-04': 'Black Saturday', '2026-04-09': 'Araw ng Kagitingan', '2026-05-01': 'Labor Day', '2026-05-27': 'Eid al-Adha', '2026-06-12': 'Independence Day', '2026-08-21': 'Ninoy Aquino Day', '2026-08-31': "National Heroes' Day", '2026-11-01': "All Saints' Day", '2026-11-02': "All Souls' Day", '2026-11-30': 'Bonifacio Day', '2026-12-08': 'Immaculate Conception', '2026-12-24': 'Christmas Eve', '2026-12-25': 'Christmas Day', '2026-12-30': 'Rizal Day', '2026-12-31': 'Last Day of the Year' };

        const App = () => {
            const [month, setMonth] = useState(new Date().getMonth());
            const [todos, setTodos] = useState({});
            const [modal, setModal] = useState(null);

            useEffect(() => {
                const saved = localStorage.getItem('todos');
                if (saved) setTodos(JSON.parse(saved));
            }, []);

            useEffect(() => {
                localStorage.setItem('todos', JSON.stringify(todos));
            }, [todos]);

            const fmt = (y, m, d) => `${y}-${String(m + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
            const daysCount = (m) => new Date(2026, m + 1, 0).getDate();
            const firstDay = (m) => new Date(2026, m, 1).getDay();

            const renderCal = () => {
                const cells = [];
                for (let i = 0; i < firstDay(month); i++) cells.push(<div key={`e${i}`} className="bg-transparent" />);
                
                for (let d = 1; d <= daysCount(month); d++) {
                    const date = fmt(2026, month, d);
                    const dow = new Date(2026, month, d).getDay();
                    const kr = koreanHolidays[date];
                    const ph = philippineHolidays[date];
                    
                    // ìƒ‰ìƒ ì¡°ê±´: í•œêµ­ê³µíœ´ì¼(íŒŒë€ìƒ‰), í•„ë¦¬í•€ í˜¹ì€ ê²¹ì¹¨(ë¹¨ê°„ìƒ‰)
                    let colorClass = "text-slate-600";
                    if (dow === 0 || ph || (kr && ph)) colorClass = "text-rose-500";
                    else if (kr) colorClass = "text-sky-500";

                    const today = new Date().toDateString() === new Date(2026, month, d).toDateString();
                    const dayTodos = todos[date] || [];

                    cells.push(
                        <div key={d} onClick={() => setModal(date)} className={`calendar-cell relative p-2 border-[0.5px] border-slate-100 bg-white cursor-pointer active:bg-slate-50 transition-colors ${today ? 'bg-sky-50/50' : ''}`}>
                            <div className={`text-sm font-bold mb-1 ${colorClass}`}>{d}</div>
                            <div className="space-y-0.5">
                                {kr && <div className={`text-[9px] px-1 rounded-sm truncate ${ph ? 'bg-rose-50 text-rose-600' : 'bg-sky-50 text-sky-600'}`}>{kr}</div>}
                                {ph && <div className="text-[9px] px-1 bg-rose-50 text-rose-600 rounded-sm truncate">{ph}</div>}
                            </div>
                            {dayTodos.length > 0 && (
                                <div className="absolute bottom-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-slate-800 text-[9px] text-white">
                                    {dayTodos.filter(t => !t.done).length || dayTodos.length}
                                </div>
                            )}
                        </div>
                    );
                }
                return cells;
            };

            return (
                <div className="max-w-md lg:max-w-5xl mx-auto p-3 sm:p-6 pb-20">
                    <div className="flex justify-between items-center mb-6 bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                        <button onClick={() => setMonth(m => m > 0 ? m - 1 : 11)} className="p-2 text-slate-400">
                            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M15 19l-7-7 7-7" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
                        </button>
                        <h1 className="text-xl font-bold tracking-tight">2026ë…„ {month + 1}ì›”</h1>
                        <button onClick={() => setMonth(m => m < 11 ? m + 1 : 0)} className="p-2 text-slate-400">
                            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 5l7 7-7 7" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/></svg>
                        </button>
                    </div>

                    <div className="grid lg:grid-cols-[1fr_320px] gap-6">
                        <div className="bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden">
                            <div className="grid grid-cols-7 bg-slate-50/50 py-3 border-b border-slate-100">
                                {['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '].map((d, i) => (
                                    <div key={d} className={`text-center text-[11px] font-bold ${i === 0 ? 'text-rose-400' : 'text-slate-400'}`}>{d}</div>
                                ))}
                            </div>
                            <div className="grid grid-cols-7">{renderCal()}</div>
                        </div>

                        <div className="bg-white rounded-2xl p-4 shadow-sm border border-slate-100 h-fit">
                            <h3 className="text-sm font-bold mb-4 flex items-center gap-2">
                                <span className="w-1.5 h-4 bg-rose-400 rounded-full"></span>ì´ë‹¬ì˜ ì£¼ìš” ì¼ì •
                            </h3>
                            <div className="space-y-4 max-h-[300px] overflow-y-auto hide-scrollbar">
                                {getHolidays(month).length === 0 ? <p className="text-xs text-slate-400 text-center py-4">ê³µíœ´ì¼ì´ ì—†ëŠ” ë‹¬ì…ë‹ˆë‹¤.</p> : getHolidays(month).map(h => (
                                    <div key={h.date} className="flex items-start gap-3">
                                        <div className={`text-lg font-bold w-7 text-center leading-tight ${h.ph || new Date(h.date).getDay() === 0 ? 'text-rose-500' : 'text-sky-500'}`}>{h.day}</div>
                                        <div className="flex-1 text-xs pt-1">
                                            {h.kr && <div className={`${h.ph ? 'text-rose-600' : 'text-sky-600'} font-semibold mb-0.5 underline decoration-2 underline-offset-2`}>ğŸ‡°ğŸ‡· {h.kr}</div>}
                                            {h.ph && <div className="text-rose-600 font-semibold">ğŸ‡µğŸ‡­ {h.ph}</div>}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>

                    {modal && <Modal date={modal} onClose={() => setModal(null)} todos={todos} setTodos={setTodos} />}
                </div>
            );
        };

        const Modal = ({ date, onClose, todos, setTodos }) => {
            const [text, setText] = useState('');
            const add = () => {
                if (!text.trim()) return;
                setTodos(prev => ({ ...prev, [date]: [...(prev[date] || []), { id: Date.now(), text, done: false }] }));
                setText('');
            };
            const toggle = (id) => setTodos(prev => ({ ...prev, [date]: prev[date].map(t => t.id === id ? { ...t, done: !t.done } : t) }));
            const del = (id) => setTodos(prev => {
                const updated = { ...prev, [date]: prev[date].filter(t => t.id !== id) };
                if (!updated[date].length) delete updated[date];
                return updated;
            });

            return (
                <div className="fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-end sm:items-center justify-center z-50 p-0 sm:p-4" onClick={onClose}>
                    <div className="bg-white w-full max-w-md rounded-t-[32px] sm:rounded-3xl p-6 shadow-2xl animate-in slide-in-from-bottom duration-300" onClick={e => e.stopPropagation()}>
                        <div className="w-12 h-1.5 bg-slate-200 rounded-full mx-auto mb-6 sm:hidden" onClick={onClose}></div>
                        <div className="flex justify-between items-center mb-6">
                            <div>
                                <h2 className="text-xl font-bold">{date.split('-')[1]}ì›” {date.split('-')[2]}ì¼</h2>
                                <p className="text-xs text-slate-400 mt-1">ì˜¤ëŠ˜ì˜ í•  ì¼ì„ ê´€ë¦¬í•˜ì„¸ìš”</p>
                            </div>
                            <button onClick={onClose} className="p-2 bg-slate-50 rounded-full text-slate-400">âœ•</button>
                        </div>
                        <div className="flex gap-2 mb-6">
                            <input value={text} onChange={e => setText(e.target.value)} onKeyPress={e => e.key === 'Enter' && add()} placeholder="í•  ì¼ ì¶”ê°€..." className="flex-1 bg-slate-50 border-none rounded-2xl px-4 py-3 text-sm outline-none ring-sky-100 focus:ring-2" />
                            <button onClick={add} className="bg-slate-900 text-white px-5 rounded-2xl text-sm font-bold">ì¶”ê°€</button>
                        </div>
                        <div className="space-y-3 max-h-[40vh] overflow-y-auto">
                            {(todos[date] || []).map(t => (
                                <div key={t.id} className="flex items-center gap-3 p-3 bg-slate-50 rounded-2xl">
                                    <div onClick={() => toggle(t.id)} className={`w-6 h-6 rounded-full flex items-center justify-center border-2 transition-colors ${t.done ? 'bg-sky-500 border-sky-500' : 'border-slate-300 bg-white'}`}>
                                        {t.done && <svg className="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5" strokeWidth="4" strokeLinecap="round" strokeLinejoin="round"/></svg>}
                                    </div>
                                    <span className={`flex-1 text-sm ${t.done ? 'text-slate-400 line-through' : 'text-slate-700 font-medium'}`}>{t.text}</span>
                                    <button onClick={() => del(t.id)} className="text-slate-300 hover:text-rose-500 px-2 text-xl">Ã—</button>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const getHolidays = (m) => {
            const h = [];
            const dCount = new Date(2026, m + 1, 0).getDate();
            for (let d = 1; d <= dCount; d++) {
                const date = `2026-${String(m + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
                if (koreanHolidays[date] || philippineHolidays[date]) {
                    h.push({ date, day: d, kr: koreanHolidays[date], ph: philippineHolidays[date] });
                }
            }
            return h;
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>

</html>
