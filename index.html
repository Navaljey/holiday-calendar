<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026 í•œ-í•„ ë‹¬ë ¥ (ìµœì¢…ë³¸)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap');
        body { font-family: 'Pretendard', sans-serif; -webkit-tap-highlight-color: transparent; }
        .calendar-cell { min-height: 85px; transition: all 0.2s; }
        @media (max-width: 640px) { .calendar-cell { min-height: 75px; } }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
        const { useState, useEffect } = React;

        // êµ¬ê¸€ ë“œë¼ì´ë¸Œ ì„¤ì •ì„ ìœ„í•œ ë³€ìˆ˜ (ì—¬ê¸°ì— í´ë¼ì´ì–¸íŠ¸ IDë¥¼ ë„£ìœ¼ì„¸ìš”)
        const CLIENT_ID = 'YOUR_CLIENT_ID_HERE.apps.googleusercontent.com';

        // ê³µíœ´ì¼ í†µí•© ë°ì´í„°
        const holidayData = {
            '2026-01-01': { kr: 'ì‹ ì •', ph: "New Year's Day" },
            '2026-01-17': { ph: 'off í† ìš”ì¼' },
            '2026-01-31': { ph: 'off í† ìš”ì¼' },
            '2026-02-14': { ph: 'off í† ìš”ì¼' },
            '2026-02-16': { kr: 'ì„¤ë‚  ì „ë‚ ' },
            '2026-02-17': { kr: 'ì„¤ë‚ ', ph: 'Chinese New Year' },
            '2026-02-18': { kr: 'ì„¤ë‚  ë‹¤ìŒë‚ ' },
            '2026-02-28': { ph: 'off í† ìš”ì¼' },
            '2026-03-01': { kr: 'ì‚¼ì¼ì ˆ' },
            '2026-03-02': { kr: 'ì‚¼ì¼ì ˆ ëŒ€ì²´ê³µíœ´ì¼' },
            '2026-03-14': { ph: 'off í† ìš”ì¼' },
            '2026-03-28': { ph: 'off í† ìš”ì¼' },
            '2026-04-11': { ph: 'off í† ìš”ì¼' },
            '2026-04-25': { ph: 'off í† ìš”ì¼' },
            '2026-05-05': { kr: 'ì–´ë¦°ì´ë‚ ' },
            '2026-05-09': { ph: 'off í† ìš”ì¼' },
            '2026-05-23': { ph: 'off í† ìš”ì¼' },
            '2026-05-24': { kr: 'ì„ê°€íƒ„ì‹ ì¼' },
            '2026-05-26': { kr: 'ì„ê°€íƒ„ì‹ ì¼ ëŒ€ì²´ê³µíœ´ì¼' },
            '2026-06-06': { kr: 'í˜„ì¶©ì¼' },
            '2026-06-20': { ph: 'off í† ìš”ì¼' },
            '2026-07-04': { ph: 'off í† ìš”ì¼' },
            '2026-07-17': { kr: 'ì œí—Œì ˆ' },
            '2026-07-18': { ph: 'off í† ìš”ì¼' },
            '2026-08-01': { ph: 'off í† ìš”ì¼' },
            '2026-08-15': { kr: 'ê´‘ë³µì ˆ' },
            '2026-08-29': { ph: 'off í† ìš”ì¼' },
            '2026-09-12': { ph: 'off í† ìš”ì¼' },
            '2026-09-24': { kr: 'ì¶”ì„ ì „ë‚ ' },
            '2026-09-25': { kr: 'ì¶”ì„' },
            '2026-09-26': { kr: 'ì¶”ì„ ë‹¤ìŒë‚ ' },
            '2026-10-03': { kr: 'ê°œì²œì ˆ' },
            '2026-10-06': { kr: 'ê°œì²œì ˆ ëŒ€ì²´ê³µíœ´ì¼' },
            '2026-10-09': { kr: 'í•œê¸€ë‚ ' },
            '2026-10-10': { ph: 'off í† ìš”ì¼' },
            '2026-10-24': { ph: 'off í† ìš”ì¼' },
            '2026-11-07': { ph: 'off í† ìš”ì¼' },
            '2026-11-21': { ph: 'off í† ìš”ì¼' },
            '2026-12-05': { ph: 'off í† ìš”ì¼' },
            '2026-12-19': { ph: 'off í† ìš”ì¼' },
            '2026-12-25': { kr: 'í¬ë¦¬ìŠ¤ë§ˆìŠ¤', ph: 'Christmas Day' }
        };

        const App = () => {
            const [month, setMonth] = useState(new Date().getMonth());
            const [todos, setTodos] = useState({});
            const [modal, setModal] = useState(null);

            useEffect(() => {
                const saved = localStorage.getItem('calendar_todos');
                if (saved) setTodos(JSON.parse(saved));
            }, []);

            useEffect(() => {
                localStorage.setItem('calendar_todos', JSON.stringify(todos));
            }, [todos]);

            const fmt = (y, m, d) => `${y}-${String(m + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
            const daysInMonth = (m) => new Date(2026, m + 1, 0).getDate();
            const startDay = (m) => new Date(2026, m, 1).getDay();

            const renderCalendar = () => {
                const cells = [];
                for (let i = 0; i < startDay(month); i++) {
                    cells.push(<div key={`empty-${i}`} className="bg-transparent" />);
                }
                for (let d = 1; d <= daysInMonth(month); d++) {
                    const date = fmt(2026, month, d);
                    const dayOfWeek = new Date(2026, month, d).getDay();
                    const holiday = holidayData[date];
                    const hasTodo = todos[date] && todos[date].length > 0;

                    // ìƒ‰ìƒ ë¡œì§: í•œêµ­(íŒŒë€ìƒ‰), í•„ë¦¬í•€/ì¼ìš”ì¼(ë¹¨ê°„ìƒ‰), í‰ì¼(ê²€ì€ìƒ‰)
                    let numColor = "text-slate-600";
                    if (dayOfWeek === 0 || holiday?.ph) numColor = "text-rose-500 font-bold";
                    else if (holiday?.kr) numColor = "text-sky-500 font-bold";

                    cells.push(
                        <div key={d} onClick={() => setModal(date)} className="calendar-cell relative p-1.5 border-[0.5px] border-slate-100 bg-white cursor-pointer active:bg-slate-50">
                            <div className={`text-sm mb-1 ${numColor}`}>{d}</div>
                            <div className="space-y-0.5">
                                {holiday?.kr && <div className={`text-[9px] px-1 rounded truncate ${holiday.ph ? 'bg-rose-50 text-rose-600' : 'bg-sky-50 text-sky-600'}`}>{holiday.kr}</div>}
                                {holiday?.ph && <div className="text-[9px] px-1 bg-rose-50 text-rose-600 rounded truncate font-medium">{holiday.ph}</div>}
                            </div>
                            {hasTodo && <div className="absolute bottom-1 right-1 w-1.5 h-1.5 bg-slate-400 rounded-full"></div>}
                        </div>
                    );
                }
                return cells;
            };

            return (
                <div className="max-w-md mx-auto p-4 min-h-screen">
                    <div className="flex justify-between items-center mb-6 bg-white p-4 rounded-2xl shadow-sm border border-slate-100">
                        <button onClick={() => setMonth(m => m > 0 ? m - 1 : 11)} className="p-2 text-slate-400">ì´ì „</button>
                        <h1 className="text-lg font-bold">2026ë…„ {month + 1}ì›”</h1>
                        <button onClick={() => setMonth(m => m < 11 ? m + 1 : 0)} className="p-2 text-slate-400">ë‹¤ìŒ</button>
                    </div>

                    <div className="bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden">
                        <div className="grid grid-cols-7 bg-slate-50/50 py-3 text-center border-b border-slate-100">
                            {['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '].map((d, i) => (
                                <div key={d} className={`text-[11px] font-bold ${i === 0 ? 'text-rose-400' : 'text-slate-400'}`}>{d}</div>
                            ))}
                        </div>
                        <div className="grid grid-cols-7">{renderCalendar()}</div>
                    </div>

                    <div className="mt-6 p-4 bg-white rounded-2xl border border-slate-100 text-center">
                        <p className="text-[10px] text-slate-400">í•œêµ­ ê³µíœ´ì¼ (<span className="text-sky-500">íŒŒë‘</span>) | í•„ë¦¬í•€Â·ì¼ìš”ì¼ (<span className="text-rose-500">ë¹¨ê°•</span>)</p>
                    </div>

                    {modal && <Modal date={modal} onClose={() => setModal(null)} todos={todos} setTodos={setTodos} />}
                </div>
            );
        };

        const Modal = ({ date, onClose, todos, setTodos }) => {
            const [text, setText] = useState('');
            const add = () => { if(text.trim()){ setTodos(p => ({...p, [date]: [...(p[date]||[]), {id:Date.now(), text, done:false}]})); setText(''); }};

            return (
                <div className="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-end z-50" onClick={onClose}>
                    <div className="bg-white w-full rounded-t-[32px] p-6 pb-12 animate-in slide-in-from-bottom" onClick={e=>e.stopPropagation()}>
                        <div className="w-12 h-1 bg-slate-200 rounded-full mx-auto mb-6" onClick={onClose}></div>
                        <h2 className="text-xl font-bold mb-6">{date} ë©”ëª¨</h2>
                        <div className="flex gap-2 mb-6">
                            <input value={text} onChange={e=>setText(e.target.value)} placeholder="í•  ì¼ì´ë‚˜ ì‚¬ì§„ ì •ë³´ ì…ë ¥" className="flex-1 bg-slate-50 rounded-xl px-4 py-3 outline-none" />
                            <button onClick={add} className="bg-slate-900 text-white px-4 rounded-xl font-bold">ì¶”ê°€</button>
                        </div>
                        <div className="space-y-2 max-h-48 overflow-y-auto mb-4">
                            {(todos[date]||[]).map(t => <div key={t.id} className="p-3 bg-slate-50 rounded-xl text-sm">{t.text}</div>)}
                        </div>
                        <div className="flex gap-2 mt-4">
                            <label className="flex-1 bg-slate-100 py-3 rounded-2xl text-center text-xs font-bold cursor-pointer">ğŸ“· ì‚¬ì§„ ì„ íƒ</label>
                            <button className="flex-1 bg-sky-500 text-white py-3 rounded-2xl text-xs font-bold">Google ë“œë¼ì´ë¸Œ ì €ì¥</button>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
